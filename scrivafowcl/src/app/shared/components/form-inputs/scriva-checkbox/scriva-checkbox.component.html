<!--
 * ========================LICENSE_START=================================
 * 
 * Copyright (C) 2025 Regione Piemonte
 * 
 * SPDX-FileCopyrightText: (C) Copyright 2025 Regione Piemonte
 * SPDX-License-Identifier: EUPL-1.2
 * =========================LICENSE_END==================================
-->
<!-- FORM GROUP -->
<div class="form-group scriva-form-group" [ngClass]="cssConfig.customForm">
  <!-- FORM CHECK | CONFIGURABILE PER ORIZZONTALE O VERTICALE -->
  <div
    class="form-check"
    [ngClass]="[
      cssConfig.customFormCheck,
      dataConfig.orientation === FI_C.HORIZONTAL ? 'form-check-inline' : ''
    ]"
    *ngFor="let checkbox of source"
  >
    <!-- LABEL -->
    <label ngbButtonLabel class="" [ngClass]="cssConfig.customLabel">
      <!-- INPUT -->
      <input
        ngbButton
        [disabled]="disabled || checkbox.disabled"
        [(ngModel)]="checkbox.check"
        type="checkbox"
        class="form-check-input scriva-checkbox scriva-input-border"
        [ngClass]="[
          cssConfig.customInput !== undefined ? cssConfig.customInput : '',
          (cssConfig.showErrorFC &&
            formControl.invalid &&
            (formSubmitted || formControl.dirty || formControl.touched)) ||
          (cssConfig.showErrorFG &&
            formGroup.invalid &&
            formErrors &&
            (formSubmitted || formGroup.dirty || formGroup.touched))
            ? 'scriva-input-border-error-checkbox'
            : ''
        ]"
        (change)="onCheckboxChange(checkbox)"
      />
      <!-- ETICHETTA DEL CHECKBOX -->
      <div [innerHtml]="checkbox[propertyToShow]"></div>
    </label>
  </div>

  <!-- FORM CONTROL - GESTIONE ERRORI -->
  <scriva-form-control-error
    [cssConfig]="cssConfig"
    [idFormControl]="idFC"
    [formGroup]="formGroup"
    [errMapFormControl]="mappaErroriFC"
    [formSubmitted]="formSubmitted"
  ></scriva-form-control-error>
  <!-- FORM GROUP - GESTIONE ERRORI -->
  <scriva-form-group-error
    [cssConfig]="cssConfig"
    [formGroup]="formGroup"
    [errMapFormGroup]="mappaErroriFG"
    [formSubmitted]="formSubmitted"
  ></scriva-form-group-error>
</div>
